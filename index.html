<!DOCTYPE html>
<meta charset="utf-8">
<style>
  circle {
    opacity: .8;
  }
  text {
      font-size: 14px;

  }
</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>
    /* JavaScript */

    var width = 800;
    var height = 400;
    var padding = 50;
    var data = {};
    var colours = d3.scale.category20();

    var svg = d3.select('body')
                .append('svg')
                .attr('widht', width + 'px')
                .attr('height', height + 'px')
                .style('background', 'White');

    d3.json('olympic.json', function (error, json) {
        data = json;
        draw();
    });

    var draw = function() {

        var xMin = d3.min(data.olympics.games, function(d) { return d.year; });
        var xMax = d3.max(data.olympics.games, function(d) { return d.year; });
        var xScale = d3.scale.linear().domain([xMin, xMax]).range([0 + padding, width - padding]);
        var xAxis = d3.svg.axis().scale(xScale);

        var yMin = d3.min(data.olympics.games, function(d) { return d.countries; });
        var yMax = d3.max(data.olympics.games, function(d) { return d.countries; });
        var yScale = d3.scale.linear().domain([yMin, yMax]).range([height - padding, 0 + padding]);
        var yAxis = d3.svg.axis().scale(yScale).orient('right');

        svg.selectAll('circle')
            .data(data.olympics.games)
            .enter()
            .append('circle')
            .attr('class', 'game')
            .attr('cx', function(d) { return xScale(d.year) + 'px'; })
            .attr('cy', function(d) { return yScale(d.countries) + 'px'; })
            .attr('r', function(d) { return d.sports + 'px'; })
            .style('fill', function(d, i) { return colours(i); });
        svg.append('g').call(xAxis);
        svg.append('g').call(yAxis);

        svg.selectAll('text')
            .data(data.olympics.games)
            .enter()
            .append('text')
            .attr('x', function (d) { return xScale(d.year) + 'px'; })
            .attr('y', function(d) { return yScale(d.countries) + 'px'; })
            .text(function (d) { return d.city; });
        //.style('', '')
        ;

    };





</script>
